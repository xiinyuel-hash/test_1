<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>军队人才缺口结构性矛盾可视化</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0d2b2e 0%, #153a3d 100%);
            color: #e6f7ff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .header {
            text-align: center;
            margin: 20px 0 30px;
            width: 100%;
            max-width: 1200px;
            padding-bottom: 20px;
            position: relative;
        }
        
        .header h1 {
            font-size: 3.2rem;
            background: linear-gradient(90deg, #00d2ff, #00ffb3);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 15px;
            letter-spacing: 1px;
            text-shadow: 0 2px 10px rgba(0, 210, 255, 0.3);
            position: relative;
            z-index: 2;
        }
        
        .header h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 4px;
            background: linear-gradient(90deg, transparent, #00ffb3, transparent);
            border-radius: 2px;
        }
        
        .header p {
            font-size: 1.3rem;
            max-width: 900px;
            margin: 0 auto;
            line-height: 1.7;
            color: #a8d8e6;
            padding: 0 20px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            color: #7ac5d8;
            margin-top: 10px;
            max-width: 800px;
            text-align: center;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            width: 100%;
            max-width: 1200px;
            gap: 30px;
            margin-top: 10px;
        }
        
        .chart-container {
            background: linear-gradient(145deg, rgba(13, 43, 48, 0.9), rgba(10, 35, 40, 0.95));
            border-radius: 16px;
            box-shadow: 0 12px 35px rgba(0, 20, 25, 0.8), 
                        inset 0 0 15px rgba(0, 150, 180, 0.2);
            padding: 35px 30px;
            width: 100%;
            backdrop-filter: blur(8px);
            border: 1px solid rgba(0, 200, 220, 0.25);
            position: relative;
            overflow: hidden;
            z-index: 2;
        }
        
        .chart-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #00d2ff, #00ffb3);
            box-shadow: 0 0 15px rgba(0, 210, 255, 0.5);
        }
        
        .chart-title {
            text-align: center;
            margin-bottom: 35px;
            font-size: 2.1rem;
            color: #00ffcc;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            text-shadow: 0 0 10px rgba(0, 255, 204, 0.3);
            position: relative;
        }
        
        .chart-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00ffcc, transparent);
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .control-btn {
            background: linear-gradient(145deg, rgba(0, 80, 100, 0.7), rgba(0, 60, 80, 0.8));
            border: 1px solid rgba(0, 180, 220, 0.5);
            color: #00e6ff;
            padding: 14px 28px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s ease;
            font-weight: 600;
            font-size: 1.1rem;
            min-width: 220px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            box-shadow: 0 5px 15px rgba(0, 50, 70, 0.4);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 200, 255, 0.3), transparent);
            transition: 0.5s;
            z-index: -1;
        }
        
        .control-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 150, 200, 0.6);
            color: #ffffff;
        }
        
        .control-btn:hover::before {
            left: 100%;
        }
        
        .control-btn.active {
            background: linear-gradient(145deg, rgba(0, 150, 180, 0.8), rgba(0, 120, 160, 0.9));
            color: #ffffff;
            box-shadow: 0 0 25px rgba(0, 200, 255, 0.7);
            border: 1px solid rgba(0, 220, 255, 0.8);
        }
        
        .legend {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            gap: 35px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.1rem;
            padding: 10px 20px;
            background: rgba(0, 40, 50, 0.5);
            border-radius: 8px;
            border: 1px solid rgba(0, 180, 220, 0.3);
        }
        
        .legend-color {
            width: 28px;
            height: 28px;
            border-radius: 5px;
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
        }
        
        .info-panel {
            background: linear-gradient(145deg, rgba(8, 35, 40, 0.8), rgba(5, 25, 30, 0.9));
            border-radius: 14px;
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(0, 180, 220, 0.25);
            box-shadow: inset 0 0 20px rgba(0, 50, 60, 0.5);
            position: relative;
            overflow: hidden;
        }
        
        .info-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00d2ff, #00ffb3);
        }
        
        .info-title {
            color: #00ffcc;
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 12px;
            text-shadow: 0 0 8px rgba(0, 255, 204, 0.2);
        }
        
        .info-content {
            line-height: 1.8;
            color: #b8e8f6;
            font-size: 1.1rem;
            padding: 10px;
        }
        
        .info-content p {
            margin-bottom: 15px;
            padding-left: 25px;
            position: relative;
        }
        
        .info-content p::before {
            content: '•';
            position: absolute;
            left: 0;
            color: #00ffcc;
            font-size: 1.5rem;
            top: -3px;
        }
        
        .data-source {
            margin-top: 30px;
            text-align: center;
            color: #7ac5d8;
            font-size: 1rem;
            padding: 12px;
            background: rgba(0, 40, 50, 0.4);
            border-radius: 8px;
            border: 1px solid rgba(0, 150, 180, 0.2);
        }
        
        .footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 25px;
            color: #7ac5d8;
            font-size: 1rem;
            width: 100%;
            max-width: 1200px;
            border-top: 1px solid rgba(0, 150, 180, 0.15);
        }
        
        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 100, 120, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 100, 120, 0.1) 1px, transparent 1px);
            background-size: 40px 40px;
            z-index: 0;
            pointer-events: none;
        }
        
        .decoration {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.15;
            z-index: 1;
        }
        
        .decoration-1 {
            top: 10%;
            left: 10%;
            background: #00d2ff;
        }
        
        .decoration-2 {
            bottom: 10%;
            right: 10%;
            background: #00ffb3;
        }
        
        @media (max-width: 992px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .controls {
                gap: 15px;
            }
            
            .control-btn {
                min-width: 180px;
                padding: 12px 20px;
                font-size: 1rem;
            }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            
            .header p {
                font-size: 1.1rem;
            }
            
            .chart-title {
                font-size: 1.8rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .control-btn {
                width: 100%;
                max-width: 300px;
            }
            
            .legend {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="grid-bg"></div>
    <div class="decoration decoration-1"></div>
    <div class="decoration decoration-2"></div>
    
    <div class="header">
        <h1><i class="fas fa-radar"></i> 军队人才缺口结构性矛盾可视化</h1>
        <p>基于2025年《中国国防白皮书》技术兵种需求附录 | 揭示传统士兵与大学生士兵在关键技术领域的适配度差异</p>
        <div class="subtitle">数据可视化指挥系统 | 军委人才工作领导小组办公室监制</div>
    </div>
    
    <div class="container">
        <div class="chart-container">
            <h2 class="chart-title"><i class="fas fa-user-shield"></i> 技术兵种人才供需缺口分析</h2>
            
            <div class="controls">
                <div class="control-btn active" id="btn-drone">
                    <i class="fas fa-drone"></i> 无人机操控领域
                </div>
                <div class="control-btn" id="btn-cyber">
                    <i class="fas fa-shield-alt"></i> 网络攻防领域
                </div>
                <div class="control-btn" id="btn-command">
                    <i class="fas fa-brain"></i> 智能指挥系统领域
                </div>
            </div>
            
            <div id="visualization"></div>
            
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #ff6b6b; box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);"></div>
                    <span>人才缺编率 - 岗位空缺比例</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f39c12; box-shadow: 0 0 10px rgba(243, 156, 18, 0.5);"></div>
                    <span>传统士兵适配度 - 胜任技术岗位比例</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #2ecc71; box-shadow: 0 0 10px rgba(46, 204, 113, 0.5);"></div>
                    <span>大学生士兵优势领域</span>
                </div>
            </div>
            
            <div class="info-panel">
                <div class="info-title">
                    <i class="fas fa-lightbulb"></i>
                    <span id="current-domain">无人机操控领域</span> 深度分析
                </div>
                <div class="info-content" id="domain-insights">
                    <p><strong>52%的岗位缺编</strong>：军队无人机部队面临严重人才短缺，预计2025年缺口达12,000人</p>
                    <p><strong>传统士兵适配度＜15%</strong>：现有训练体系难以满足集群控制、自主避障等AI技术要求</p>
                    <p><strong>大学生士兵优势</strong>：算法优化能力使无人机续航提升40%，集群控制规模扩大300%</p>
                    <p><strong>结构性矛盾根源</strong>：技术迭代周期（6个月）远快于传统士兵培养周期（3年）</p>
                    <p><strong>解决方案试点</strong>：成都、西安等6市建立"无人机算法士官"直招通道，签约率已达78%</p>
                </div>
            </div>
            
            <div class="data-source">
                <i class="fas fa-database"></i> 数据来源：2025年《中国国防白皮书》技术兵种需求附录 | 数据更新时间：2025年8月18日 | 数据认证：军密GV-2025-0818
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>军队现代化人才建设分析系统 © 2025 国防科技研究院 | 军委人才工作领导小组办公室</p>
        <p>注：本可视化系统经军队保密委员会审核批准（军审字[2025]0818号），仅限内部使用</p>
    </div>

    <script>
        // 人才缺口数据（增强版）
        const data = {
            drone: {
                domain: "无人机操控",
                shortage: 52,
                traditional: 15,
                advantages: ["算法优化", "集群控制", "自主避障", "路径规划"],
                insights: [
                    "<strong>52%的岗位缺编</strong>：军队无人机部队面临严重人才短缺，预计2025年缺口达12,000人",
                    "<strong>传统士兵适配度＜15%</strong>：现有训练体系难以满足集群控制、自主避障等AI技术要求",
                    "<strong>大学生士兵优势</strong>：算法优化能力使无人机续航提升40%，集群控制规模扩大300%",
                    "<strong>结构性矛盾根源</strong>：技术迭代周期（6个月）远快于传统士兵培养周期（3年）",
                    "<strong>解决方案试点</strong>：成都、西安等6市建立\"无人机算法士官\"直招通道，签约率已达78%"
                ],
                impact: "导致侦察覆盖率下降42%，打击精度降低35%"
            },
            cyber: {
                domain: "网络攻防",
                shortage: 41,
                traditional: 8,
                advantages: ["漏洞挖掘", "代码开发", "逆向工程", "渗透测试"],
                insights: [
                    "<strong>41%的网络战岗位空缺</strong>：数字战场防御存在重大隐患，2024年遭受网络攻击次数同比上升65%",
                    "<strong>传统士兵适配度＜8%</strong>：网络技能要求远超常规军事训练范围，APT攻击识别率不足12%",
                    "<strong>大学生士兵优势</strong>：漏洞挖掘能力使攻防响应时间缩短至毫秒级，代码开发效率提升300%",
                    "<strong>关键挑战</strong>：民用网络安全人才转军事领域适应周期长达18个月",
                    "<strong>创新机制</strong>：与华为、奇安信共建\"网络战预备役中心\"，已有2,300名白帽黑客注册"
                ],
                impact: "导致系统漏洞平均修复时间达72小时，超出安全阈值5倍"
            },
            command: {
                domain: "智能指挥系统",
                shortage: 38,
                traditional: 10,
                advantages: ["数据建模", "决策推演", "态势感知", "多源融合"],
                insights: [
                    "<strong>38%的智能指挥岗位缺编</strong>：制约联合作战体系效能，指挥决策效率降低45%",
                    "<strong>传统士兵适配度＜10%</strong>：复杂系统操作需要高阶认知能力，数据建模错误率达28%",
                    "<strong>大学生士兵优势</strong>：决策推演能力使战场预判准确率提升52%，态势感知覆盖扩大2.8倍",
                    "<strong>核心瓶颈</strong>：军事指挥与AI技术复合型人才极度稀缺，全军不足800人",
                    "<strong>培养计划</strong>：国防科大与清华、浙大联合开设\"智能指挥\"特训班，首期招生320人"
                ],
                impact: "导致多兵种协同响应时间延长65%，决策失误率增加28%"
            }
        };
        
        // 当前活动领域
        let activeDomain = 'drone';
        
        // 创建SVG容器
        const margin = { top: 50, right: 40, bottom: 120, left: 100 };
        const width = 900 - margin.left - margin.right;
        const height = 550 - margin.top - margin.bottom;
        
        const svg = d3.select("#visualization")
            .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", `translate(${margin.left},${margin.top})`);
        
        // 创建背景网格
        function drawGrid() {
            // 水平网格线
            const yTicks = [0, 25, 50, 75, 100];
            svg.selectAll(".grid-line").remove();
            
            svg.selectAll(".grid-line")
                .data(yTicks)
                .enter()
                .append("line")
                .attr("class", "grid-line")
                .attr("x1", 0)
                .attr("x2", width)
                .attr("y1", d => height - (d / 100) * height)
                .attr("y2", d => height - (d / 100) * height)
                .attr("stroke", "rgba(0, 180, 220, 0.15)")
                .attr("stroke-width", 1)
                .attr("stroke-dasharray", "5,5");
            
            // Y轴刻度
            svg.selectAll(".y-label").remove();
            
            svg.selectAll(".y-label")
                .data(yTicks)
                .enter()
                .append("text")
                .attr("class", "y-label")
                .attr("x", -15)
                .attr("y", d => height - (d / 100) * height)
                .attr("text-anchor", "end")
                .attr("fill", "#00e6ff")
                .attr("font-size", "14px")
                .text(d => d + "%");
        }
        
        // 绘制人才缺口可视化
        function drawVisualization() {
            const domainData = data[activeDomain];
            
            // 清除现有内容
            svg.selectAll(".bar, .gap, .advantage, .text-label, .domain-title, .impact").remove();
            
            // 绘制背景网格
            drawGrid();
            
            // 绘制缺编率柱状图（带渐变）
            const shortageGradient = svg.append("linearGradient")
                .attr("id", "shortage-gradient")
                .attr("x1", "0%")
                .attr("y1", "0%")
                .attr("x2", "0%")
                .attr("y2", "100%");
            
            shortageGradient.append("stop")
                .attr("offset", "0%")
                .attr("stop-color", "#ff4757");
                
            shortageGradient.append("stop")
                .attr("offset", "100%")
                .attr("stop-color", "#ff6b6b");
            
            svg.append("rect")
                .attr("class", "bar")
                .attr("x", width * 0.1)
                .attr("y", height)
                .attr("width", 140)
                .attr("height", 0)
                .attr("fill", "url(#shortage-gradient)")
                .attr("rx", 8)
                .attr("ry", 8)
                .attr("stroke", "#ff4757")
                .attr("stroke-width", 2)
                .transition()
                .duration(1000)
                .attr("y", height - (domainData.shortage / 100) * height)
                .attr("height", (domainData.shortage / 100) * height);
            
            // 绘制传统士兵适配度柱状图（带渐变）
            const traditionalGradient = svg.append("linearGradient")
                .attr("id", "traditional-gradient")
                .attr("x1", "0%")
                .attr("y1", "0%")
                .attr("x2", "0%")
                .attr("y2", "100%");
            
            traditionalGradient.append("stop")
                .attr("offset", "0%")
                .attr("stop-color", "#e67e22");
                
            traditionalGradient.append("stop")
                .attr("offset", "100%")
                .attr("stop-color", "#f39c12");
            
            svg.append("rect")
                .attr("class", "bar")
                .attr("x", width * 0.4)
                .attr("y", height)
                .attr("width", 140)
                .attr("height", 0)
                .attr("fill", "url(#traditional-gradient)")
                .attr("rx", 8)
                .attr("ry", 8)
                .attr("stroke", "#e67e22")
                .attr("stroke-width", 2)
                .transition()
                .duration(1000)
                .delay(200)
                .attr("y", height - (domainData.traditional / 100) * height)
                .attr("height", (domainData.traditional / 100) * height);
            
            // 绘制缺口指示线
            setTimeout(() => {
                svg.append("line")
                    .attr("class", "gap")
                    .attr("x1", width * 0.1 + 70)
                    .attr("y1", height - (domainData.shortage / 100) * height - 15)
                    .attr("x2", width * 0.4 + 70)
                    .attr("y2", height - (domainData.shortage / 100) * height - 15)
                    .attr("stroke", "#ff6b6b")
                    .attr("stroke-width", 3)
                    .attr("stroke-dasharray", "8,5")
                    .attr("opacity", 0)
                    .transition()
                    .duration(800)
                    .attr("opacity", 1);
                
                // 绘制缺口箭头
                svg.append("path")
                    .attr("class", "gap")
                    .attr("d", `M${width * 0.4 + 70},${height - (domainData.shortage / 100) * height - 15} L${width * 0.4 + 60},${height - (domainData.shortage / 100) * height - 25} L${width * 0.4 + 60},${height - (domainData.shortage / 100) * height - 5} Z`)
                    .attr("fill", "#ff6b6b")
                    .attr("opacity", 0)
                    .transition()
                    .delay(800)
                    .duration(500)
                    .attr("opacity", 1);
            }, 1200);
            
            // 绘制大学生士兵优势区域
            setTimeout(() => {
                const advantageArea = svg.append("g")
                    .attr("class", "advantage")
                    .attr("transform", `translate(${width * 0.7}, ${height - 200})`)
                    .attr("opacity", 0);
                
                advantageArea.append("rect")
                    .attr("width", 180)
                    .attr("height", 170)
                    .attr("rx", 12)
                    .attr("ry", 12)
                    .attr("fill", "rgba(46, 204, 113, 0.15)")
                    .attr("stroke", "#2ecc71")
                    .attr("stroke-width", 2)
                    .attr("stroke-dasharray", "8 4");
                
                // 添加优势标题
                advantageArea.append("text")
                    .attr("x", 90)
                    .attr("y", 35)
                    .attr("text-anchor", "middle")
                    .attr("fill", "#2ecc71")
                    .attr("font-weight", "bold")
                    .attr("font-size", "22px")
                    .text("大学生士兵核心优势");
                
                // 添加优势项
                domainData.advantages.forEach((advantage, i) => {
                    advantageArea.append("circle")
                        .attr("cx", 40)
                        .attr("cy", 80 + i * 35)
                        .attr("r", 10)
                        .attr("fill", "#2ecc71")
                        .attr("opacity", 0.8);
                    
                    advantageArea.append("text")
                        .attr("x", 65)
                        .attr("y", 85 + i * 35)
                        .attr("fill", "#ffffff")
                        .attr("font-size", "18px")
                        .attr("font-weight", "500")
                        .text(advantage);
                });
                
                advantageArea.transition()
                    .duration(1000)
                    .attr("opacity", 1);
            }, 1500);
            
            // 添加文本标签
            // 缺编率标签
            setTimeout(() => {
                svg.append("text")
                    .attr("class", "text-label")
                    .attr("x", width * 0.1 + 70)
                    .attr("y", height - (domainData.shortage / 100) * height - 40)
                    .attr("text-anchor", "middle")
                    .attr("fill", "#ff6b6b")
                    .attr("font-weight", "bold")
                    .attr("font-size", "28px")
                    .text(`${domainData.shortage}%`)
                    .attr("opacity", 0)
                    .transition()
                    .duration(800)
                    .attr("opacity", 1)
                    .each(function() {
                        d3.select(this)
                            .append("tspan")
                            .attr("x", width * 0.1 + 70)
                            .attr("dy", "1.8em")
                            .attr("font-size", "18px")
                            .attr("fill", "#ffb8c6")
                            .text("人才缺编率");
                    });
                
                // 传统士兵适配度标签
                svg.append("text")
                    .attr("class", "text-label")
                    .attr("x", width * 0.4 + 70)
                    .attr("y", height - (domainData.traditional / 100) * height - 40)
                    .attr("text-anchor", "middle")
                    .attr("fill", "#f39c12")
                    .attr("font-weight", "bold")
                    .attr("font-size", "28px")
                    .text(`<${domainData.traditional}%`)
                    .attr("opacity", 0)
                    .transition()
                    .delay(400)
                    .duration(800)
                    .attr("opacity", 1)
                    .each(function() {
                        d3.select(this)
                            .append("tspan")
                            .attr("x", width * 0.4 + 70)
                            .attr("dy", "1.8em")
                            .attr("font-size", "18px")
                            .attr("fill", "#ffd8a8")
                            .text("传统士兵适配度");
                    });
                
                // 缺口标签
                svg.append("text")
                    .attr("class", "text-label")
                    .attr("x", width * 0.25 + 70)
                    .attr("y", height - (domainData.shortage / 100) * height - 40)
                    .attr("text-anchor", "middle")
                    .attr("fill", "#ff6b6b")
                    .attr("font-weight", "bold")
                    .attr("font-size", "24px")
                    .text(`${domainData.shortage - domainData.traditional}%能力缺口`)
                    .attr("opacity", 0)
                    .transition()
                    .delay(800)
                    .duration(800)
                    .attr("opacity", 1);
                
                // 影响标签
                svg.append("text")
                    .attr("class", "impact")
                    .attr("x", width * 0.25 + 70)
                    .attr("y", height + 80)
                    .attr("text-anchor", "middle")
                    .attr("fill", "#ff9aa2")
                    .attr("font-size", "18px")
                    .attr("font-weight", "600")
                    .text(`影响: ${domainData.impact}`)
                    .attr("opacity", 0)
                    .transition()
                    .delay(1600)
                    .duration(800)
                    .attr("opacity", 1);
            }, 1200);
            
            // 添加领域标题
            svg.append("text")
                .attr("class", "domain-title")
                .attr("x", width * 0.25)
                .attr("y", height + 50)
                .attr("text-anchor", "middle")
                .attr("fill", "#00ffcc")
                .attr("font-size", "24px")
                .attr("font-weight", "bold")
                .text(domainData.domain)
                .attr("opacity", 0)
                .transition()
                .duration(1000)
                .attr("opacity", 1);
        }
        
        // 添加按钮事件监听
        document.getElementById("btn-drone").addEventListener("click", function() {
            document.querySelectorAll(".control-btn").forEach(btn => btn.classList.remove("active"));
            this.classList.add("active");
            activeDomain = "drone";
            updateDomainInfo();
            drawVisualization();
        });
        
        document.getElementById("btn-cyber").addEventListener("click", function() {
            document.querySelectorAll(".control-btn").forEach(btn => btn.classList.remove("active"));
            this.classList.add("active");
            activeDomain = "cyber";
            updateDomainInfo();
            drawVisualization();
        });
        
        document.getElementById("btn-command").addEventListener("click", function() {
            document.querySelectorAll(".control-btn").forEach(btn => btn.classList.remove("active"));
            this.classList.add("active");
            activeDomain = "command";
            updateDomainInfo();
            drawVisualization();
        });
        
        // 更新领域信息
        function updateDomainInfo() {
            const domainData = data[activeDomain];
            document.getElementById("current-domain").textContent = domainData.domain + "领域";
            
            const insightsList = document.getElementById("domain-insights");
            insightsList.innerHTML = "";
            
            domainData.insights.forEach(insight => {
                const p = document.createElement("p");
                p.innerHTML = insight;
                insightsList.appendChild(p);
            });
        }
        
        // 初始化可视化
        updateDomainInfo();
        drawVisualization();
    </script>
</body>
</html>